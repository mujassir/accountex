@using AccountEx.Common
@using AccountEx.BussinessLogic;
@{
    ViewBag.Title = "Employees";   
}
@section PageTitle
{
    <h1 class="font-green-sharp bold">Manage Employees </h1>
}
<!-- END PAGE HEADER-->
@if (SettingManager.EmployeeHeadId == 0)
{
    @Html.Partial("_HeadAccountMissing")
}
<div class="row" id="form-info">
    <input type="text" id="AccountDetailFormId" class="hide" value="@((int)AccountDetailFormType.Employees)" />
    <div class="col-md-12 col-sm-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet light">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-edit"></i>Add/Edit Employee
                </div>
                <div class="actions hide">
                    <a href="javascript:;" onclick="Employees.ListView()" class="btn blue">
                        <i class="fa fa-angle-left"></i>&nbsp;Back to list 
                    </a>
                </div>
                <div class="tools hide">
                    <a href="javascript:;" class="collapse"></a>
                </div>
            </div>
            <div class="portlet-body form">
                <div class="form-horizontal" data-save="save">
                    <input type="text" id="Id" class="hide" />
                    <input type="text" id="TempCode" class="hide" />
                    <input type="text" id="PictureUrl" class="hide" />
                    <div class="form-body">
                        <div class="hide alert alert-danger container-message">
                            <i class="close" onclick="$(this).parent().hide();"></i>
                            <strong></strong>
                            <div class="form-body message-content"></div>
                        </div>
                        @Html.Partial("_ParentAccount", new ViewDataDictionary { { "HeadId", SettingManager.EmployeeHeadId }, { "Labelcolspan", 2 }, { "Divcolspan", 3 } })
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Employee Code</label>
                            <div class="col-md-2">
                                <input type="text" class="form-control " id="Code" placeholder="Employee Code" data-required="required" data-validate="true" data-message="Code is required"  data-plus-as-tab="false">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Name</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control " id="Name" data-required="required" data-message="Account Name is required" />
                            </div>
                            <label class="col-md-2 control-label" for="prefix">Father Name</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control " id="FatherName" placeholder="Father Name" data-required="required" data-validate="true" data-message="Father Name is required" >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">CNIC</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control " id="CNIC" placeholder="CNIC" />
                            </div>
                            <label class="col-md-2 control-label" for="prefix">Blood Group</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="BloodGroup" placeholder="Blood Group">
                            </div>
                        </div>
                          <div class="form-group">
                           
                               <label class="col-md-2 control-label" for="prefix">Date of Joining</label>
                            <div class="col-md-3">
                                <div class="input-group input-medium">
                                    <input type="text" class="form-control date-picker" id="DOJ" placeholder="Date of Joining" data-validate="true" data-message="Date of Joining is required"  data-hide-dropdown="true">
                                    <span class="input-group-btn date-icon">
                                        <button class="btn default" type="button"><i class="fa fa-calendar"></i></button>
                                    </span>
                                </div>
                            </div>

                            @*</div>
                        <div class="form-group">*@
                            <label class="col-md-2 control-label" for="prefix">Date of Birth</label>
                            <div class="col-md-3">

                                <div class="input-group input-medium">
                                    <input type="text" class="form-control date-picker" id="DOB" placeholder="Date of Birth" data-validate="true" data-message="Date of Birth is required"  data-hide-dropdown="true">
                                    <span class="input-group-btn date-icon">
                                        <button class="btn default" type="button"><i class="fa fa-calendar"></i></button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                          @*  <label class="col-md-2 control-label" for="prefix">Basic Salary</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control " id="BasicSalary" placeholder="Basic Salary" data-validate="true" data-message="Basic Salary is required" >
                            </div>*@
                            <label class="col-md-2 control-label" for="prefix">Contact Number</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control " id="ContactNumber" placeholder="Contact Number" data-validate="true" data-message="Contact Number is required" >
                            </div>
                        </div>
                      @*  <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">
                                Allowed Leave Detail
                            </label>
                            <div class="col-md-8">
                                <table class="table table-bordered leaves">
                                    <thead>
                                        <tr>
                                            <td>Title</td>
                                            <td>Allowed</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Casual </td>
                                            <td>
                                                <input type="text" id="CasualAllowed" class="form-control allowed input-small number" /></td>
                                        </tr>
                                        <tr>
                                            <td>Sick </td>
                                            <td>
                                                <input type="text" id="SickAllowed" class="form-control allowed input-small number" /></td>
                                        </tr>
                                        <tr>
                                            <td>Annual </td>
                                            <td>
                                                <input type="text" id="AnnualAllowed" class="form-control allowed input-small number" /></td>
                                        </tr>
                                        <tr>
                                            <td>Compensatery</td>
                                            <td>
                                                <input type="text" id="CompensateryAllowed" class="form-control allowed input-small number" /></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>*@
                      
                     @*   <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Designation</label>
                            <div class="col-md-3">
                                <select class="form-control select2" id="Designation" placeholder="Designation">
                                    <option value=""></option>
                                    @foreach (var item in (List<IdName>)ViewBag.Designation)
                                    {
                                        <option data-custom="@item.Id" value="@item.Id">@(item.Name)</option>
                                    }
                                </select>
                            </div>
                            <label class="col-md-2 control-label" for="prefix">Department</label>
                            <div class="col-md-3">

                                <select class="form-control select2" id="Department" placeholder="Department">
                                    <option value=""></option>
                                    @foreach (var item in (List<IdName>)ViewBag.Department)
                                    {
                                        <option data-custom="@item.Id" value="@item.Id">@(item.Name)</option>
                                    }
                                </select>
                            </div>
                        </div>*@
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Email</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="Email" placeholder="Email" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Current Address</label>
                            <div class="col-md-8">
                                <textarea class="form-control" id="Address" placeholder="Current Address" onkeyup="$('#PermanentAddress').val(this.value)"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Permanent Address</label>
                            <div class="col-md-8">
                                <textarea class="form-control" id="PermanentAddress" placeholder="Permanent Address"></textarea>
                            </div>
                        </div>
                      @*  <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Bank</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="BankName" placeholder="Bank" />
                            </div>
                        </div>*@
                         @* <div class="form-group">
                                <label class="col-md-2 control-label master-account-label" for="prefix">Bank</label>
                                <div class="col-md-2">
                                    <input type="text" class="form-control input-small" id="AccountCode" data-required="required" data-plus-as-tab="false" data-validate="true" data-message="Client Code is required" >
                                  
                                </div>
                                <div class="col-md-3">

                                    <input type="text" class="form-control" id="BankName"  disabled="disabled">
                                </div>
                            </div>*@

                         <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Bank</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="BankName" placeholder="Bank" />
                                <input type="text" class="form-control hide" id="BankId" placeholder="Bank" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">A/c Number</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="AccountNumber" placeholder="Account Number" />
                            </div>
                            <label class="col-md-2 control-label" for="prefix">A/c Title</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="AccountTitle" placeholder="Account Title" />
                            </div>
                        </div>
                        <div></div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Qualification</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="Qualification" placeholder="Qualification" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Reference</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="Reference" placeholder="Reference" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">Passport Number</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="PassportNumber" placeholder="Passport Number" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix">NTN</label>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="NTN" placeholder="NTN" />
                            </div>
                            <label class="col-md-2 control-label" for="prefix">Deployment Status</label>
                            <div class="col-md-3">
                                <select class="form-control select2" id="DeploymentStatus" placeholder="Deployment Status">
                                    <option value=""></option>
                                    <option value="Head Office">Head Office</option>
                                    <option value="Site">Site</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="prefix"></label>
                            <div class="col-md-6">
                                <div class="form-group storeimg">
                                    <input id="EmployeePic" accept="image/x-png, image/gif, image/jpeg" type="file" name="...">
                                </div>
                            </div>
                        </div>
                    </div>
                    @if (SiteContext.Current.RoleAccess.CanCreate)
                    {
                        <div class="form-actions">
                            <label class="col-md-2 control-label" for="prefix">&nbsp;</label>

                            <div class="col-md-8">
                                <button type="button" class="btn btn-primary" onclick="Employees.Save()">Save</button>
                                <button id="btnCancel" type="button" class="btn btn-default" onclick="Employees.ListView()">Cancel</button>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
        <!-- END EXAMPLE TABLE PORTLET-->
    </div>
</div>

<div id="jsondata" class="hide">
    <p id="data">@ViewBag.FormSetting</p>
</div>

<div class="row" id="div-table">
    <div class="col-md-12 col-sm-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet box grey-cascade">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-list"></i>Employees Listing
                </div>
                <div class="actions hide">
                    <button id="btnEdit" type="button" class="btn blue " onclick="Employees.Add()"><i class="fa fa-plus"></i>&nbsp;New</button>
                    <button id="btnSave" type="button" class="btn blue hide" onclick="Employees.Save()"><i class="fa fa-check"></i>&nbsp;Save Changes</button>
                    <div class="btn-group hide">
                        <a class="btn purple" href="#" data-toggle="dropdown">
                            <i class="fa fa-cogs"></i>&nbsp;Tools <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu pull-right">
                            <li>
                                <a href="#">
                                    <i class="fa fa-pencil"></i>Edit
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fa fa-trash-o"></i>Delete
                                </a>
                            </li>

                            <li class="divider"></li>
                            <li>
                                <a href="#">
                                    <i class="fa fa-print"></i>Print
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fa fa-table"></i>Export to CSV
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fa fa-bar-chart-o"></i>Export to excel
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="tools hide">
                    <a href="javascript:;" class="collapse"></a>
                </div>
            </div>
            <div class="portlet-body">
                <div class="hide alert alert-danger container-message">
                    <i class="close" onclick="$(this).parent().hide();"></i>
                    <strong></strong>
                    <div class="form-body message-content"></div>
                </div>
                <table class="table table-striped table-bordered table-hover" id="mainTable">
                    <thead>
                        <tr>
                            @*<th style="width: 8px;" class="no-sort">
                                <input type="checkbox" class="group-checkable" data-set="#mainTable .checkboxes" />
                            </th>*@
                            <th>Code</th>
                            <th>Name</th>
                            <th>S/O</th>
                            <th>CNIC</th>
                            <th>Phone</th>
                           @* <th>Designation</th>*@
                            <th>Qualification</th>
                            <th>Deployment</th>
                            @*<th>Salary</th>*@
                            <th style="width: 75px;" class="no-sort"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="11">Loading...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- END EXAMPLE TABLE PORTLET-->
    </div>
</div>

@section FooterScript
{
    <script src="~/Content/AppJS/Manage/Employees.js"></script>
    <script>
        jQuery(document).ready(function () {
            Employees.init();
        });
    </script>
}
